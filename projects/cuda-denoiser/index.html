<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> CUDA Denoiser | Yuanqi Wang </title> <meta name="author" content="Yuanqi Wang"> <meta name="description" content="Denoiser for Monte Carlo Path Tracer using CUDA, C++"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%91%A8%F0%9F%8F%BB%E2%80%8D%F0%9F%92%BB&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://www.yqwong.com/projects/cuda-denoiser/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Yuanqi</span> Wang </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">CUDA Denoiser</h1> <p class="post-description">Denoiser for Monte Carlo Path Tracer using CUDA, C++</p> </header> <article> <p><a href="https://github.com/plasmas/Project4-CUDA-Denoiser" rel="external nofollow noopener" target="_blank">Source</a></p> <p><em>Tested on: Windows 11, i5-11600K @ 3.91GHz 32GB, RTX 4090 24GB (Personal Desktop)</em></p> <hr> <h1 id="overview">Overview</h1> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/original-480.webp 480w,/assets/img/projects/cuda-denoiser/original-800.webp 800w,/assets/img/projects/cuda-denoiser/original-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/original.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original (10 iters, 8 depth)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/denoised_65x65-480.webp 480w,/assets/img/projects/cuda-denoiser/denoised_65x65-800.webp 800w,/assets/img/projects/cuda-denoiser/denoised_65x65-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/denoised_65x65.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Denoised (filter size 65x65)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Original (10 iters, 8 depth). Right: Denoised (filter size 65x65). </div> <p>A CUDA-based A-Trous denoiser for path tracers.</p> <p>In real-time rendering, even modern machines don’t have the capability to perform an sufficient number of path tracing iterations to achieve a photo-realistic image. Within a few iterations, the image generated can have a lot of noise, resulting in high variance. Therefore, denoising is need to smooth the image. A naive Gaussian blur can indeed smooth the image, but will blur across edges. Also, using a large Gaussian kernel is expensive when performing convolution. Therefore, we use the A-Trous wavelet filter with an edge-stopping function.</p> <p>This denoiser implements the method by <a href="https://jo.dreggn.org/home/2010_atrous.pdf" rel="external nofollow noopener" target="_blank">Dammertz et al.</a>, with a few tweaks.</p> <hr> <h1 id="performance-analysis">Performance Analysis</h1> <h2 id="filter-sizes">Filter Sizes</h2> <p>The time cost of denoising is dependent on how many iterations are performed. We record the time cost by computing the denoised image, at different number of iterations requested.</p> <p>To unify the benchmarks, without explicit mention, all tests are performed using <a href="https://github.com/plasmas/Project4-CUDA-Denoiser/tree/base-code/scenes/cornell_ceiling_light.txt" rel="external nofollow noopener" target="_blank">Cornell Ceiling Light</a> scene, at the default resolution and camera position. A total of 10 path trace iterations are performed, with a depth of 8 each. Denoising parameters are default as <code class="language-plaintext highlighter-rouge">color_phi = 3.740</code>, <code class="language-plaintext highlighter-rouge">normal_phi = 0.285</code>, <code class="language-plaintext highlighter-rouge">position_phi = 2.642</code>. Image resolution is by default <code class="language-plaintext highlighter-rouge">800x800</code>.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/time_filtersize.svg-480.webp 480w,/assets/img/projects/cuda-denoiser/time_filtersize.svg-800.webp 800w,/assets/img/projects/cuda-denoiser/time_filtersize.svg-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/time_filtersize.svg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Time vs. Filter Size" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Time vs. Filter Size </div> <p>As seen in the plot, the denoise time cost increases with the filter size. This is expected because increased filter size generally means more denoise iterations. And since the computation cost of each iteration stays generally the same, more iterations mean more time cost.</p> <p>Since at iteration \(i\), the side length of the expanded filter is \(4 \times 2^i + 1\), only filter sizes that is on threasholds are chosen.</p> <p>The denoise results at each filter size is shown below:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter5-480.webp 480w,/assets/img/projects/cuda-denoiser/filter5-800.webp 800w,/assets/img/projects/cuda-denoiser/filter5-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter5.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="5x5 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter9-480.webp 480w,/assets/img/projects/cuda-denoiser/filter9-800.webp 800w,/assets/img/projects/cuda-denoiser/filter9-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter9.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="9x9 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter17-480.webp 480w,/assets/img/projects/cuda-denoiser/filter17-800.webp 800w,/assets/img/projects/cuda-denoiser/filter17-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter17.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="17x17 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: 5x5 Filter; Middle: 9x9 Filter; Right: 17x17 Filter. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter33-480.webp 480w,/assets/img/projects/cuda-denoiser/filter33-800.webp 800w,/assets/img/projects/cuda-denoiser/filter33-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter33.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="33x33 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter65-480.webp 480w,/assets/img/projects/cuda-denoiser/filter65-800.webp 800w,/assets/img/projects/cuda-denoiser/filter65-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter65.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="65x65 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter129-480.webp 480w,/assets/img/projects/cuda-denoiser/filter129-800.webp 800w,/assets/img/projects/cuda-denoiser/filter129-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter129.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="129x129 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: 33x33 Filter; Middle: 65x65 Filter; Right: 129x129 Filter. </div> <div class="row" style="width: 34%"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/filter267-480.webp 480w,/assets/img/projects/cuda-denoiser/filter267-800.webp 800w,/assets/img/projects/cuda-denoiser/filter267-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/filter267.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="257x257 Filter" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: 257x257 Filter. </div> <p>We can see that as the filter size increases, the denoising benefits have diminishing returns, and sometimes erase local details. For this scene, denoising achieves best result when applying 65x65 filters, producing a smooth image while retaining details like shadows. If there are too few iterations, the noise is not sufficiently removed. However, if there are too more iterations, details like shadows begin to disappear because larger filters tend to blend in colors further away, and hence colors become overly simplified.</p> <h2 id="resolution">Resolution</h2> <p>Aside from filter size (number of iterations), the resolution of the input image also affects how much time is taken to perform denoising. Here we perform denoising on several square resolutions (from <code class="language-plaintext highlighter-rouge">800x800</code> up to <code class="language-plaintext highlighter-rouge">4800x4800</code>) and examine the time cost with respect to the number of pixels in image.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/time_resolution.svg-480.webp 480w,/assets/img/projects/cuda-denoiser/time_resolution.svg-800.webp 800w,/assets/img/projects/cuda-denoiser/time_resolution.svg-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/time_resolution.svg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Time vs. Filter Size" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Time Cost with Respect to Number of Pixels </div> <p>It is clear that the time cost for denoising scales linearly with the number of pixels. This is also expected because the amount of computation for each pixel stays nearly constant, hence the total time cost scales with the number of pixels.</p> <h2 id="smoothing-benefits">Smoothing Benefits</h2> <p>To understand how denoising produces better images with fewer iterations, we first generate a ray trace ground-truth by performing 10k iterations, for the maximum quality. Then we compare the image generated by 10 iterations with denoising. Parts of difference are highlighted below:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/iter10_no_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/iter10_no_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/iter10_no_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/iter10_no_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Original (10 iters, 8 depth)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/iter10_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/iter10_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/iter10_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/iter10_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Denoised (filter size 65x65)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Original (10 iters, 8 depth); Right: Denoised (filter size 65x65). </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/diff_no_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/diff_no_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/diff_no_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/diff_no_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Origin Diff" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/diff_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/diff_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/diff_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/diff_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Denoised Diff" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Origin Diff; Right: Denoised Diff. </div> <p>We can see that by applying denoising, the difference between the ground-truth and the image with 10 iterations is reduced rapidly. The only exceptions lie on the boundaries of colors and sharp object intersections. We can see that for homogeneous surfaces that have uniform colors, this denoising technique does a good job.</p> <h2 id="material-types">Material Types</h2> <p>To compare the effect of denoising on different material surfaces, we examine perfect specular surfaces and purely diffusive surfaces.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/iter10_no_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/iter10_no_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/iter10_no_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/iter10_no_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Specular Original (10 iters, 8 depth)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/iter10_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/iter10_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/iter10_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/iter10_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Specular Denoised (filter size 65x65)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Specular Original (10 iters, 8 depth); Right: Specular Denoised (filter size 65x65). </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/diffuse_no_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/diffuse_no_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/diffuse_no_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/diffuse_no_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Diffusive Original (10 iters, 8 depth)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/diffuse_denoised-480.webp 480w,/assets/img/projects/cuda-denoiser/diffuse_denoised-800.webp 800w,/assets/img/projects/cuda-denoiser/diffuse_denoised-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/diffuse_denoised.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Diffusive Denoised (filter size 65x65)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Diffusive Original (10 iters, 8 depth); Right: Diffusive Denoised (filter size 65x65). </div> <p>We can see that the denoiser performs much better on diffuse surfaces than on specular surfaces. On specular surfaces, particularly, the colors are smeared and blend together. This is expected because the color of pure specular surfaces rely solely on the color they reflect. This color, however, can have little relation to the surface normals or positions. Therefore, the denoiser cannot leverage the full potential of normals or positions to identify edges, therefore resulting in a bad reconstruction.</p> <h2 id="scene-differences">Scene Differences</h2> <p>We also test the denoiser’s effectiveness on different scenes. In this case, we test both <a href="https://github.com/plasmas/Project4-CUDA-Denoiser/tree/base-code/scenes/cornell_ceiling_light.txt" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">cornell_ceiling_light</code></a> and the original <a href="https://github.com/plasmas/Project4-CUDA-Denoiser/tree/base-code/scenes/cornell.txt" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">cornell</code></a> scene.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/iter10_no_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/iter10_no_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/iter10_no_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/iter10_no_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cornell Ceiling Light Original (10 iters, 8 depth)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/iter10_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/iter10_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/iter10_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/iter10_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cornell Ceiling Light Denoised (filter size 65x65)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Cornell Ceiling Light Original (10 iters, 8 depth); Right: Cornell Ceiling Light Denoised (filter size 65x65). </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/cornell_no_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/cornell_no_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/cornell_no_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/cornell_no_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cornell Original (10 iters, 8 depth)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/cuda-denoiser/cornell_denoise-480.webp 480w,/assets/img/projects/cuda-denoiser/cornell_denoise-800.webp 800w,/assets/img/projects/cuda-denoiser/cornell_denoise-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/projects/cuda-denoiser/cornell_denoise.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Cornell Denoised (filter size 65x65)" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Left: Cornell Original (10 iters, 8 depth); Right: Cornell Denoised (filter size 65x65). </div> <p>We can see that with a smaller light in the original <code class="language-plaintext highlighter-rouge">cornell</code> box, with the same 10 iterations, the denoiser performed poorly and didn’t remove a noticible amount of noise, while making the image darker. This is because a smaller light means less valid samples and we can obtain less information with the same number of iterations. As a result, the amount of noise increases, and the denoiser cannot effectively remove noise.</p> </article> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2024 Yuanqi Wang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: June 19, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script src="/assets/js/shortcut-key.js"></script> </body> </html>